<template>
  <lightning-modal-header label="Imports Projects"> </lightning-modal-header>

  <lightning-modal-body>
    <div class="slds-p-around_medium slds-text-align_center">
      <!-- Champs pour la recherche  de projets importés -->
      <div class="slds-p-around_medium lgc-bg">
        <lightning-input
          type="search"
          label="Search import project"
          onchange={handleSearch}
        ></lightning-input>
      </div>
      <!-- Card pour les détails du projet -->
      <template if:true={projects}>
        <lightning-card>
          <table class="styled-table">
            <caption class="slds-text-align_center">
              Import projects Informations
            </caption>
            <thead>
              <tr>
                <template for:each={columns} for:item="column">
                  <th key={column.fieldName}>{column.label}</th>
                </template>
              </tr>
            </thead>
            <tbody>
              <!-- tableau de projets importés -->
              <template for:each={projects} for:item="project">
                <tr key={project.Id}>
                  <!-- Nom  -->
                  <td>{project.Name}</td>
                  <!-- objet ciblé -->
                  <td>{project.TargetObject__c}</td>

                  <!-- Description -->
                  <td>{project.Description__c}</td>

                  <!-- Bouton d'action -->
                  <td>
                    <lightning-button
                      onclick={handleShowDetailProject}
                      variant="brand"
                      label="Details"
                      icon-name="action:preview"
                      data-id={project.Id}
                    >
                    </lightning-button>
                  </td>
                </tr>
              </template>
            </tbody>
          </table>
        </lightning-card>
      </template>
      <!-- tablesau -->
    </div>
  </lightning-modal-body>

  <lightning-modal-footer>
    <lightning-button
      label="Close"
      onclick={handleCloseModal}
      variant="neutral"
    ></lightning-button>
  </lightning-modal-footer>
</template>